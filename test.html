<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram MiniApp</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-section {
            background: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #333;
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            background: #333;
            border-radius: 4px;
        }
        .test-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        .success {
            background: #2d5a2d;
            border: 1px solid #4caf50;
        }
        .error {
            background: #5a2d2d;
            border: 1px solid #f44336;
        }
        .warning {
            background: #5a4a2d;
            border: 1px solid #ff9800;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .test-controls {
            margin: 20px 0;
            padding: 20px;
            background: #333;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram MiniApp "–ê–≤—Ç–æ–ó–∞–ø—á–∞—Å—Ç–∏"</h1>
    
    <div class="test-controls">
        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏</h3>
        <button onclick="runAllTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
        <button onclick="clearResults()">–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
        <button onclick="openMainApp()">–û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
    </div>

    <div class="test-section">
        <h2>1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h2>
        <div class="test-item">
            <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h4>
            <button onclick="testCategories()">–¢–µ—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π</button>
            <div id="categories-result"></div>
        </div>
        <div class="test-item">
            <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤</h4>
            <button onclick="testProducts()">–¢–µ—Å—Ç —Ç–æ–≤–∞—Ä–æ–≤</button>
            <div id="products-result"></div>
        </div>
        <div class="test-item">
            <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h4>
            <button onclick="testUserProfile()">–¢–µ—Å—Ç –ø—Ä–æ—Ñ–∏–ª—è</button>
            <div id="profile-result"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã</h2>
        <div class="test-item">
            <h4>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É</h4>
            <button onclick="testAddToCart()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
            <div id="cart-add-result"></div>
        </div>
        <div class="test-item">
            <h4>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤</h4>
            <button onclick="testUpdateQuantity()">–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</button>
            <div id="cart-update-result"></div>
        </div>
        <div class="test-item">
            <h4>–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã</h4>
            <button onclick="testRemoveFromCart()">–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
            <div id="cart-remove-result"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</h2>
        <div class="test-item">
            <h4>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</h4>
            <button onclick="testAddToFavorites()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
            <div id="favorites-add-result"></div>
        </div>
        <div class="test-item">
            <h4>–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</h4>
            <button onclick="testRemoveFromFavorites()">–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</button>
            <div id="favorites-remove-result"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞</h2>
        <div class="test-item">
            <h4>–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤</h4>
            <input type="text" id="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å" style="padding: 8px; margin-right: 10px;">
            <button onclick="testSearch()">–ü–æ–∏—Å–∫</button>
            <div id="search-result"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
        <div class="test-item">
            <h4>–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏</h4>
            <button onclick="testLoadTime()">–ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏</button>
            <div id="loadtime-result"></div>
        </div>
        <div class="test-item">
            <h4>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏</h4>
            <button onclick="testMemoryUsage()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å</button>
            <div id="memory-result"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏</h2>
        <div class="test-item">
            <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞</h4>
            <button onclick="testBrowserCompatibility()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä</button>
            <div id="browser-result"></div>
        </div>
        <div class="test-item">
            <h4>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h4>
            <button onclick="testMobileCompatibility()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ</button>
            <div id="mobile-result"></div>
        </div>
    </div>

    <script src="scripts/data.js"></script>
    <script src="scripts/telegram-api.js"></script>
    <script src="scripts/components.js"></script>
    <script src="scripts/optimization.js"></script>
    <script src="scripts/app.js"></script>
    
    <script>
        // –§—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function showResult(elementId, message, type = 'success') {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="test-result ${type}">${message}</div>`;
        }

        function clearResults() {
            document.querySelectorAll('.test-result').forEach(el => el.remove());
        }

        function openMainApp() {
            window.open('index.html', '_blank');
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function testCategories() {
            try {
                const categories = DataService.getCategories();
                if (categories && categories.length > 0) {
                    showResult('categories-result', 
                        `‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${categories.length} –∫–∞—Ç–µ–≥–æ—Ä–∏–π: ${categories.map(c => c.name).join(', ')}`);
                } else {
                    showResult('categories-result', '‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã', 'error');
                }
            } catch (error) {
                showResult('categories-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testProducts() {
            try {
                const products = DataService.getProductsByCategory('engine');
                if (products && products.length > 0) {
                    showResult('products-result', 
                        `‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${products.length} —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–î–≤–∏–≥–∞—Ç–µ–ª—å"`);
                } else {
                    showResult('products-result', '‚ùå –¢–æ–≤–∞—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã', 'error');
                }
            } catch (error) {
                showResult('products-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testUserProfile() {
            try {
                const profile = DataService.getUserProfile();
                if (profile && profile.name) {
                    showResult('profile-result', 
                        `‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω: ${profile.name} (${profile.email})`);
                } else {
                    showResult('profile-result', '‚ùå –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω', 'error');
                }
            } catch (error) {
                showResult('profile-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function testAddToCart() {
            try {
                const initialCount = uiComponents.cart.length;
                uiComponents.addToCart('engine-1');
                const newCount = uiComponents.cart.length;
                
                if (newCount > initialCount) {
                    showResult('cart-add-result', 
                        `‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É. –ë—ã–ª–æ: ${initialCount}, —Å—Ç–∞–ª–æ: ${newCount}`);
                } else {
                    showResult('cart-add-result', '‚ùå –¢–æ–≤–∞—Ä –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É', 'error');
                }
            } catch (error) {
                showResult('cart-add-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testUpdateQuantity() {
            try {
                if (uiComponents.cart.length === 0) {
                    uiComponents.addToCart('engine-1');
                }
                
                const initialQuantity = uiComponents.cart[0].quantity;
                uiComponents.updateCartQuantity('engine-1', 1);
                const newQuantity = uiComponents.cart[0].quantity;
                
                if (newQuantity > initialQuantity) {
                    showResult('cart-update-result', 
                        `‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ. –ë—ã–ª–æ: ${initialQuantity}, —Å—Ç–∞–ª–æ: ${newQuantity}`);
                } else {
                    showResult('cart-update-result', '‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ', 'error');
                }
            } catch (error) {
                showResult('cart-update-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testRemoveFromCart() {
            try {
                if (uiComponents.cart.length === 0) {
                    uiComponents.addToCart('engine-1');
                }
                
                const initialCount = uiComponents.cart.length;
                uiComponents.removeFromCart('engine-1');
                const newCount = uiComponents.cart.length;
                
                if (newCount < initialCount) {
                    showResult('cart-remove-result', 
                        `‚úÖ –¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã. –ë—ã–ª–æ: ${initialCount}, —Å—Ç–∞–ª–æ: ${newCount}`);
                } else {
                    showResult('cart-remove-result', '‚ùå –¢–æ–≤–∞—Ä –Ω–µ —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'error');
                }
            } catch (error) {
                showResult('cart-remove-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        function testAddToFavorites() {
            try {
                const initialFavorites = uiComponents.getFavorites().length;
                uiComponents.addToFavorites('engine-1');
                const newFavorites = uiComponents.getFavorites().length;
                
                if (newFavorites > initialFavorites) {
                    showResult('favorites-add-result', 
                        `‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ. –ë—ã–ª–æ: ${initialFavorites}, —Å—Ç–∞–ª–æ: ${newFavorites}`);
                } else {
                    showResult('favorites-add-result', '‚ùå –¢–æ–≤–∞—Ä –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ', 'error');
                }
            } catch (error) {
                showResult('favorites-add-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testRemoveFromFavorites() {
            try {
                if (uiComponents.getFavorites().length === 0) {
                    uiComponents.addToFavorites('engine-1');
                }
                
                const initialFavorites = uiComponents.getFavorites().length;
                uiComponents.removeFromFavorites('engine-1');
                const newFavorites = uiComponents.getFavorites().length;
                
                if (newFavorites < initialFavorites) {
                    showResult('favorites-remove-result', 
                        `‚úÖ –¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ. –ë—ã–ª–æ: ${initialFavorites}, —Å—Ç–∞–ª–æ: ${newFavorites}`);
                } else {
                    showResult('favorites-remove-result', '‚ùå –¢–æ–≤–∞—Ä –Ω–µ —É–¥–∞–ª–µ–Ω –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ', 'error');
                }
            } catch (error) {
                showResult('favorites-remove-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
        function testSearch() {
            try {
                const query = document.getElementById('search-input').value || '–¥–≤–∏–≥–∞—Ç–µ–ª—å';
                const results = DataService.searchProducts(query);
                
                if (results && results.length > 0) {
                    showResult('search-result', 
                        `‚úÖ –ù–∞–π–¥–µ–Ω–æ ${results.length} —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É "${query}"`);
                } else {
                    showResult('search-result', 
                        `‚ö†Ô∏è –ü–æ –∑–∞–ø—Ä–æ—Å—É "${query}" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`, 'warning');
                }
            } catch (error) {
                showResult('search-result', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function testLoadTime() {
            try {
                const startTime = performance.now();
                
                // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
                DataService.getCategories();
                DataService.getProductsByCategory('engine');
                DataService.getUserProfile();
                
                const endTime = performance.now();
                const loadTime = endTime - startTime;
                
                if (loadTime < 100) {
                    showResult('loadtime-result', 
                        `‚úÖ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ${loadTime.toFixed(2)}ms (–æ—Ç–ª–∏—á–Ω–æ)`);
                } else if (loadTime < 500) {
                    showResult('loadtime-result', 
                        `‚ö†Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ${loadTime.toFixed(2)}ms (—Ö–æ—Ä–æ—à–æ)`, 'warning');
                } else {
                    showResult('loadtime-result', 
                        `‚ùå –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ${loadTime.toFixed(2)}ms (–º–µ–¥–ª–µ–Ω–Ω–æ)`, 'error');
                }
            } catch (error) {
                showResult('loadtime-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testMemoryUsage() {
            try {
                if ('memory' in performance) {
                    const memory = performance.memory;
                    const usedMB = (memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                    const totalMB = (memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2);
                    const usagePercent = ((memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100).toFixed(1);
                    
                    if (usagePercent < 50) {
                        showResult('memory-result', 
                            `‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ${usedMB}MB / ${totalMB}MB (${usagePercent}%)`);
                    } else if (usagePercent < 80) {
                        showResult('memory-result', 
                            `‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ${usedMB}MB / ${totalMB}MB (${usagePercent}%)`, 'warning');
                    } else {
                        showResult('memory-result', 
                            `‚ùå –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ${usedMB}MB / ${totalMB}MB (${usagePercent}%)`, 'error');
                    }
                } else {
                    showResult('memory-result', '‚ö†Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞', 'warning');
                }
            } catch (error) {
                showResult('memory-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
        function testBrowserCompatibility() {
            try {
                const features = {
                    'localStorage': typeof(Storage) !== "undefined",
                    'fetch': typeof(fetch) !== "undefined",
                    'intersectionObserver': typeof(IntersectionObserver) !== "undefined",
                    'performance': typeof(performance) !== "undefined"
                };
                
                const supported = Object.values(features).filter(Boolean).length;
                const total = Object.keys(features).length;
                
                if (supported === total) {
                    showResult('browser-result', 
                        `‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è (${supported}/${total})`);
                } else {
                    showResult('browser-result', 
                        `‚ö†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è ${supported}/${total} —Ñ—É–Ω–∫—Ü–∏–π`, 'warning');
                }
            } catch (error) {
                showResult('browser-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testMobileCompatibility() {
            try {
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                const screenWidth = window.screen.width;
                const screenHeight = window.screen.height;
                const touchSupport = 'ontouchstart' in window;
                
                if (isMobile && touchSupport) {
                    showResult('mobile-result', 
                        `‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${screenWidth}x${screenHeight}, touch: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è`);
                } else if (isMobile) {
                    showResult('mobile-result', 
                        `‚ö†Ô∏è –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${screenWidth}x${screenHeight}, touch: –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è`, 'warning');
                } else {
                    showResult('mobile-result', 
                        `‚ÑπÔ∏è –î–µ—Å–∫—Ç–æ–ø–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${screenWidth}x${screenHeight}`);
                }
            } catch (error) {
                showResult('mobile-result', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
        function runAllTests() {
            clearResults();
            
            setTimeout(() => testCategories(), 100);
            setTimeout(() => testProducts(), 200);
            setTimeout(() => testUserProfile(), 300);
            setTimeout(() => testAddToCart(), 400);
            setTimeout(() => testUpdateQuantity(), 500);
            setTimeout(() => testRemoveFromCart(), 600);
            setTimeout(() => testAddToFavorites(), 700);
            setTimeout(() => testRemoveFromFavorites(), 800);
            setTimeout(() => testSearch(), 900);
            setTimeout(() => testLoadTime(), 1000);
            setTimeout(() => testMemoryUsage(), 1100);
            setTimeout(() => testBrowserCompatibility(), 1200);
            setTimeout(() => testMobileCompatibility(), 1300);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            setTimeout(() => {
                testCategories();
                testProducts();
                testUserProfile();
                testBrowserCompatibility();
                testMobileCompatibility();
            }, 1000);
        });
    </script>
</body>
</html> 