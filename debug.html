<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - –ê–≤—Ç–æ–ó–∞–ø—á–∞—Å—Ç–∏</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a1a; color: white; }
        .debug-info { background: #333; padding: 15px; margin: 10px 0; border-radius: 8px; }
        .error { color: #ff6b6b; }
        .success { color: #51cf66; }
        .warning { color: #ffd43b; }
    </style>
</head>
<body>
    <h1>üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ê–≤—Ç–æ–ó–∞–ø—á–∞—Å—Ç–∏</h1>
    
    <div class="debug-info">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤:</h3>
        <div id="files-status"></div>
    </div>
    
    <div class="debug-info">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π:</h3>
        <div id="modules-status"></div>
    </div>
    
    <div class="debug-info">
        <h3>–û—à–∏–±–∫–∏ JavaScript:</h3>
        <div id="js-errors"></div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
        const files = [
            'main.css',
            'components.css', 
            'animations.css',
            'data.js',
            'telegram-api.js',
            'components.js',
            'optimization.js',
            'app.js'
        ];

        const filesStatus = document.getElementById('files-status');
        let filesLoaded = 0;

        files.forEach(file => {
            fetch(file)
                .then(response => {
                    if (response.ok) {
                        filesStatus.innerHTML += `<div class="success">‚úÖ ${file} - OK</div>`;
                        filesLoaded++;
                    } else {
                        filesStatus.innerHTML += `<div class="error">‚ùå ${file} - –û—à–∏–±–∫–∞ ${response.status}</div>`;
                    }
                })
                .catch(error => {
                    filesStatus.innerHTML += `<div class="error">‚ùå ${file} - ${error.message}</div>`;
                });
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π
        const modulesStatus = document.getElementById('modules-status');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π
        setTimeout(() => {
            if (typeof DataService !== 'undefined') {
                modulesStatus.innerHTML += `<div class="success">‚úÖ DataService –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            } else {
                modulesStatus.innerHTML += `<div class="error">‚ùå DataService –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            }

            if (typeof telegramAPI !== 'undefined') {
                modulesStatus.innerHTML += `<div class="success">‚úÖ telegramAPI –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            } else {
                modulesStatus.innerHTML += `<div class="error">‚ùå telegramAPI –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            }

            if (typeof UIComponents !== 'undefined') {
                modulesStatus.innerHTML += `<div class="success">‚úÖ UIComponents –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            } else {
                modulesStatus.innerHTML += `<div class="error">‚ùå UIComponents –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            }

            if (typeof app !== 'undefined') {
                modulesStatus.innerHTML += `<div class="success">‚úÖ app –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            } else {
                modulesStatus.innerHTML += `<div class="error">‚ùå app –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
            }
        }, 1000);

        // –õ–æ–≤–∏–º –æ—à–∏–±–∫–∏ JavaScript
        const jsErrors = document.getElementById('js-errors');
        
        window.addEventListener('error', (event) => {
            jsErrors.innerHTML += `<div class="error">‚ùå ${event.message} –≤ ${event.filename}:${event.lineno}</div>`;
        });

        window.addEventListener('unhandledrejection', (event) => {
            jsErrors.innerHTML += `<div class="error">‚ùå –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: ${event.reason}</div>`;
        });

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
        const scripts = [
            'data.js',
            'telegram-api.js', 
            'components.js',
            'optimization.js',
            'app.js'
        ];

        scripts.forEach(script => {
            const scriptElement = document.createElement('script');
            scriptElement.src = script;
            scriptElement.onerror = () => {
                jsErrors.innerHTML += `<div class="error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${script}</div>`;
            };
            document.head.appendChild(scriptElement);
        });
    </script>
</body>
</html> 