<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ê–≤—Ç–æ–ó–∞–ø—á–∞—Å—Ç–∏63</title>
  <link rel="stylesheet" href="main.css" />
</head>
<body>
  <!-- Loader Screen -->
  <div id="loading-screen">
    <svg class="spinner" width="80" height="80" viewBox="0 0 100 100">
      <g transform="translate(50, 50)">
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è —à–µ—Å—Ç–µ—Ä–Ω—è -->
        <g class="gear-main">
          <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä—É–≥ -->
          <circle r="20" fill="#3B82F6" stroke="#2563EB" stroke-width="2"/>
          <!-- –ó—É–±—å—è —à–µ—Å—Ç–µ—Ä–Ω–∏ -->
          <g class="gear-teeth">
            <rect x="-2" y="-30" width="4" height="10" fill="#2563EB" rx="2"/>
            <rect x="-2" y="20" width="4" height="10" fill="#2563EB" rx="2"/>
            <rect x="-30" y="-2" width="10" height="4" fill="#2563EB" rx="2"/>
            <rect x="20" y="-2" width="10" height="4" fill="#2563EB" rx="2"/>
            <!-- –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ –∑—É–±—å—è -->
            <rect x="-21.2" y="-21.2" width="8" height="4" fill="#2563EB" rx="2" transform="rotate(45)"/>
            <rect x="13.2" y="-21.2" width="8" height="4" fill="#2563EB" rx="2" transform="rotate(45)"/>
            <rect x="-21.2" y="13.2" width="8" height="4" fill="#2563EB" rx="2" transform="rotate(45)"/>
            <rect x="13.2" y="13.2" width="8" height="4" fill="#2563EB" rx="2" transform="rotate(45)"/>
          </g>
          <!-- –û—Ç–≤–µ—Ä—Å—Ç–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ -->
          <circle r="8" fill="#0F172A" stroke="#1E293B" stroke-width="1"/>
          <!-- –ë–ª–∏–∫–∏ –¥–ª—è –æ–±—ä—ë–º–∞ -->
          <circle r="15" fill="none" stroke="rgba(59, 130, 246, 0.3)" stroke-width="1" stroke-dasharray="20 10"/>
        </g>
      </g>
    </svg>
    <div class="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>
  </div>

  <!-- App Container -->
  <div id="app" style="display:none;">
    <!-- Navigation -->
    <nav class="nav-bar">
      <button class="btn-back" data-screen="home">‚Üê</button>
      <h1 class="app-title">–ê–≤—Ç–æ–ó–∞–ø—á–∞—Å—Ç–∏63</h1>
      <div class="nav-actions">
        <button data-screen="home">üè†</button>
        <button data-screen="cart">üõí <span id="cart-badge">0</span></button>
        <button data-screen="profile">üë§</button>
      </div>
    </nav>

    <!-- Screens -->
    <main>
      <section id="home-screen" class="screen active"></section>
      <section id="product-screen" class="screen"></section>
      <section id="cart-screen" class="screen"></section>
      <section id="checkout-screen" class="screen"></section>
      <section id="profile-screen" class="screen"></section>
    </main>
  </div>

  <script>
    function loadScript(src) {
      return new Promise((resolve, reject) => {
        const s = document.createElement('script');
        s.src = src;
        s.onload = resolve;
        s.onerror = reject;
        document.body.appendChild(s);
      });
    }

    document.addEventListener('DOMContentLoaded', async () => {
      const scripts = ['data.js','Cart.js','Profile.js','Checkout.js','app.js'];
      const total = scripts.length;
      let loaded = 0;
      for (const src of scripts) {
        await loadScript(src);
        loaded++;
        document.getElementById('progress-fill').style.width = (loaded/total*100) + '%';
      }
      // Hide loader and show app
      document.getElementById('loading-screen').style.display = 'none';
      document.getElementById('app').style.display = '';
      // Initialize app
      if (window.app && typeof window.app.init === 'function') {
        window.app.init();
      }
    });
  </script>
</body>
</html>